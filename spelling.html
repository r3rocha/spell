<!DOCTYPE html>
<html>
	<head>
		<title>Spell, the dog | Kids spelling game</title>
		
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />
		<link rel="stylesheet" type="text/css" href="slick/slick.css"/>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<script src="http://cdnjs.cloudflare.com/ajax/libs/svg.js/2.3.6/svg.min.js"></script>
		<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
	
	</head>
	<body id="game" class="grad">

	<header id="header" class="col-xs-12">

		<div id="user" class="col-xs-3 col-xs-offset-9">
			<button id="useravatar" type="button" data-toggle="modal" data-target="#userModal"><img src="images/avatar/01.svg"></button>
			<div id="usercoins"><span class="coins">1200</span></div>
		</div>
		<div id="stars" class="col-xs-3 col-xs-offset-9">
			<div class="star on"></div>
			<div class="star on"></div>
			<div class="star on"></div>
			<div class="star on"></div>
			<div class="star on"></div>
		</div>

	</header>
	
	<content id="content" class="row">

		<div id="figure">
			<img class="dog-seated eyes-open col-xs-2" src="images/dog-seated-open.svg" alt="spell "/>
            <div class="object col-xs-4"><center><img class="item"/></center></div>
			<div class="language col-xs-1" data-language="en-us"><button type="button" data-toggle="modal" data-target="#idiomModal">language</button></div>
			
		</div>

		<div id="all-letters" class="col-xs-6"></div>	


		<div id="guess" class="col-xs-12"></div>	

	</content>



	<footer id="footer" class="col-xs-12">
		<center>
			<button class="sound col-xs-1"><span>sound</span></button>
			<button class="music col-xs-1"><span>music</span></button>
			<button class="home col-xs-1"><span>home</span></button>
			<div class="col-xs-5"></div>
			<button class="repeat col-xs-1"><span>repeat</span></button>
			<button class="say col-xs-1"><span>say</span></button>
			<button class="hint col-xs-1"><span>hint</span></button>
			<button class="switch col-xs-1"><span>switch</span></button>
		</center>
	</footer>


<!-- User modal -->
<div class="modalbig">
	<div class="modal fade" id="userModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
	        <h4 class="modal-title">My user status</h4>
	      </div>
          <div class="modal-body row">
            <div class="container-fluid bd-example-row">
                <div class="row line1">
                    <img class="dog-user col-xs-offset-1 col-xs-6" src="images/dog-userstatus.svg" alt="spell"/>
                    <div class="user-status col-xs-5">
                        <img src="images/avatar/01.svg" alt="spell"/>
                        <div id="status-usercoins"><span class="coins">1200</span></div>
                    </div> 
                </div>
                <div class="row line2">
                    <button type="button" class="btn-user change-avatar col-xs-4"><img src="images/change-avatar.svg" alt="Change Avatar"/></button>
                    <button type="button" class="btn-user change-user col-xs-4"><img src="images/change-user.svg" alt="Change User"/></button>
                    <button type="button" class="btn-user logout col-xs-4"><img class="pt" src="images/logout.svg" alt="logout"/></button>
                </div>
            </div>
          </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
</div> 

<!-- Idiom modal -->
<div class="modalbig">
    <div class="modal fade" id="idiomModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
            <h4 class="modal-title">Select a language</h4>
          </div>
          <div class="modal-body row">
            <div class="container-fluid bd-example-row">
                <div class="row line1">
                    <img class="dog-language col-xs-offset-1 col-xs-6 eyes-open" src="images/dog-language-open.svg" alt="spell"/>
                    <button type="button" class="btn-flag us col-xs-offset-2 col-xs-2"><img src="images/flagbig-us.svg" alt="flag us"/><h6>English</h6></button>
                </div>
                <div class="row">
                    <button type="button" class="btn-flag es col-xs-2 col-xs-offset-1"><img src="images/flagbig-es.svg" alt="flag Espanish"/><h6>Spanish</h6></button>
                    <button type="button" class="btn-flag it col-xs-2 col-xs-offset-2"><img src="images/flagbig-it.svg" alt="flag Italian"/><h6>Italian</h6></button>
                    <button type="button" class="btn-flag pt col-xs-2 col-xs-offset-2"><img class="pt" src="images/flagbig-pt.svg" alt="flag Portuguese"/><h6>Portuguese</h6></button>
                </div>
            </div>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div> 

<script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
<script>
  // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCeMDvkKv7vf3h-9qxl_RnwmJF7okhQGTw",
        authDomain: "test-91c0f.firebaseapp.com",
        databaseURL: "https://test-91c0f.firebaseio.com",
        storageBucket: "test-91c0f.appspot.com",
        messagingSenderId: "171964898630"
    };
    firebase.initializeApp(config);
    var database = firebase.database();
</script>
<script src="js/all.js"></script>
<script type="text/javascript" src="js/dictionary.js"></script>
<script type="text/javascript" src="js/game.js"></script>

<script type="text/javascript">
    
function blinkEyes() {
    if ($("#figure .eyes-open").size()) {
        $(".dog-seated.eyes-open").attr("src","images/dog-seated-close.svg").removeClass("eyes-open").addClass("eyes-closed");

    } else {

        $(".dog-seated.eyes-closed").attr("src","images/dog-seated-open.svg").removeClass("eyes-closed").addClass("eyes-open");
    } 
}

setInterval(blinkEyes,400); setInterval(blinkEyes,800); setInterval(blinkEyes,500);


function blinkEyes2() {
    if ($(".dog-language.eyes-open").size()) {
        $(".dog-language.eyes-open").attr("src","images/dog-language-close.svg").removeClass("eyes-open").addClass("eyes-closed");

    } else {

        $(".dog-language.eyes-closed").attr("src","images/dog-language-open.svg").removeClass("eyes-closed").addClass("eyes-open");
    } 
}

setInterval(blinkEyes2,400); setInterval(blinkEyes2,800); setInterval(blinkEyes2,500);




// $(document).ready(function(){
//         var audio = new Audio('sound/letsplay.mp3');
//         setTimeout(function() {
//             audio.play();
//         }, 1000);
//     });
firebase.auth().signInWithEmailAndPassword(get_email("user"), get_password("pass")).then(function(result) {
    setup_coins($(".coins"));
});

var sound = setup_sound($("footer .sound"));
var music = setup_music($("footer .music"));


var game = new Game({
    theme: "animals",
    language: "en-us",
    all_letters: $("#all-letters"),
    guess: $("#guess"),
    object: $(".object .item"),
    stars: $("#stars"),

    repeat_button: $(".repeat"),
    say_button: $(".say"),
    switch_button: $(".switch"),
    hint_button: $(".hint"),
});
game.start_guess();

function change_language(lang) {
    return function () {
        game.change_language(lang);
        $("#idiomModal").modal("hide");
        $("#figure .language").attr("data-language", lang)
    };
}
$(".btn-flag.es").on('click', change_language("es-sp"));
$(".btn-flag.us").on('click', change_language("en-us"));
</script>


	</body>
</html>